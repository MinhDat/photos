(this.webpackJsonpphotos=this.webpackJsonpphotos||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.6ce24c58.svg"},54:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(15),i=a.n(s),r=(a(44),a(4)),l=a(10),o=a(3),d=(a(45),a(2)),u=function(e){var t=e.setSearchText;return Object(d.jsx)("input",{className:"search",placeholder:"Search image",onChange:function(e){return t(e.target.value)}})};a(47);function j(e){var t=e.setSearchText;return Object(d.jsxs)("div",{className:"nav-wrap flex spaceBetween",children:[Object(d.jsxs)("div",{className:"nav-left-wrap flex itemCenter",children:[Object(d.jsxs)(l.b,{to:"/",className:"nav-link flex itemCenter",children:[Object(d.jsx)("img",{className:"nav-logo",src:a(53).default}),Object(d.jsx)("h1",{className:"nav-title",children:"Photos"})]}),Object(d.jsx)(l.b,{to:"/like",className:"nav-link",children:Object(d.jsx)("p",{children:"Likes"})}),Object(d.jsx)(l.b,{to:"/delete",className:"nav-link",children:Object(d.jsx)("p",{children:"Deletes"})})]}),Object(d.jsx)("div",{className:"nav-right-wrap",children:Object(d.jsx)(u,{setSearchText:t})})]})}a(54);var b=function(e){return e.enable?Object(d.jsx)("div",{className:"spinner"}):null},f=a(24),O=a(25),m=a(14),v=a.n(m),h=a(22),x=a(36),p=a.n(x),g=a(17),N={base:"https://images-api.nasa.gov",search:"/search"},w=function(){var e,t,a;return{getInstance:function(){return e||delete(e=p.a.create({baseURL:N.base,headers:{Connection:"keep-alive",Accept:"application/json","Content-Type":"application/json","Accept-Language":"en-US,en;q=0.9,vi;q=0.8"}})).constructor,e},setToken:function(e){a=e},getToken:function(){return a},setLogout:function(e){t=e},getLogout:function(){return t}}}(),S=w.getInstance();S.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),S.interceptors.response.use(function(){var e=Object(h.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==t.status&&205!==t.status){e.next=2;break}return e.abrupt("return",null);case 2:if(!(t.status>=200&&t.status<300)){e.next=4;break}return e.abrupt("return",t.data);case 4:return(a=new Error(t.statusText)).response=t,e.abrupt("return",Promise.reject(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 401===t.response.status&&Object(g.a)("Unauthorized or session expired",{position:g.a.POSITION.TOP_CENTER,type:g.a.TYPE.ERROR,toastId:"Unauthorized or session expired"}),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var k=S,I=function(e,t){var a,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol};var _=a(23),y=a(37),E=a(38),T=(a(74),function(e){var t,a=e.item,c=e.onDelete,s=Object(n.useState)(a.like),i=Object(r.a)(s,2),l=i[0],u=i[1],j=Object(o.f)();return Object(d.jsxs)("div",{className:"card-wrap",onClick:function(){localStorage.setItem("showItem",JSON.stringify(a));var e=JSON.parse(localStorage.getItem("view")||"{}");e[a.data[0].nasa_id]=e[a.data[0].nasa_id]?e[a.data[0].nasa_id]+1:1,localStorage.setItem("view",JSON.stringify(e)),j.push("/detail")},children:[Object(d.jsxs)("div",{className:"card-info flex column spaceBetween",children:[Object(d.jsxs)("div",{className:"flex spaceBetween",children:[Object(d.jsx)("div",{onClick:function(){var e=JSON.parse(localStorage.getItem("like")||"[]");l?e=e.filter((function(e){return e.data[0].nasa_id!==a.data[0].nasa_id})):e.push(a),localStorage.setItem("like",JSON.stringify(e)),u(!l)},children:l?Object(d.jsx)(_.b,{className:"card-like"}):Object(d.jsx)(_.a,{className:"card-unlike"})}),Object(d.jsx)("div",{onClick:function(){var e=JSON.parse(localStorage.getItem("delete")||"[]");e.push(a),localStorage.setItem("delete",JSON.stringify(e)),c&&c(a)},children:Object(d.jsx)(y.a,{className:"card-remove"})})]}),Object(d.jsxs)("div",{className:"flex spaceBetween",children:[Object(d.jsx)("p",{className:"card-title flex",children:a.data[0].title}),Object(d.jsxs)("span",{className:"flex itemCenter",children:[Object(d.jsx)("p",{className:"card-view",children:I(a.view,1)}),Object(d.jsx)(E.a,{className:"card-eye"})]})]})]}),Object(d.jsx)("img",{className:"card-img",src:a&&a.links?null===(t=a.links[0])||void 0===t?void 0:t.href:void 0})]})});a(75);var D=function(e){var t=e.setEnable,a=e.searchText,c=Object(n.useState)([]),s=Object(r.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(1),u=Object(r.a)(o,2),j=u[0],b=u[1],m=Object(n.useState)(!1),v=Object(r.a)(m,2),h=v[0],x=v[1],p=Object(n.useState)(100),g=Object(r.a)(p,1)[0],w=function(e,t){var a=Object(n.useState)(e),c=Object(r.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e]),s}(a,350),S=function(e){for(var t=Math.floor((window.innerWidth-200)/250),a=JSON.parse(localStorage.getItem("like")||"[]").map((function(e){return e.data[0].nasa_id})),n=JSON.parse(localStorage.getItem("view")||"{}"),c=JSON.parse(localStorage.getItem("delete")||"[]").map((function(e){return e.data[0].nasa_id})),s=e.filter((function(e){return!c.includes(e.data[0].nasa_id)})),r=1===j?[]:i,o=0;o<s.length;o++){var d=Object(O.a)(Object(O.a)({},s[o]),{},{like:a.includes(s[o].data[0].nasa_id),view:n[s[o].data[0].nasa_id]||0}),u=(o+j*g)%t;r[u]?r[u].push(d):r[u]=[d]}l(r)},I=function(e){for(var t=i,a=0;a<i.length;a++)t[a]=Object(f.a)(i[a].filter((function(t){return t.data[0].nasa_id!==e.data[0].nasa_id})));l(Object(f.a)(t))},_=function(){window.innerHeight+document.documentElement.scrollTop===document.scrollingElement.scrollHeight&&(b(j+1),t&&t(!0))},y=function(){var e=Date.now();k.get(N.search,{params:{q:a||'""',page:j}}).then((function(a){var n=Date.now();setTimeout((function(){var e;S(null===a||void 0===a||null===(e=a.collection)||void 0===e?void 0:e.items),t&&t(!1),window.removeEventListener("scroll",_),window.addEventListener("scroll",_)}),2e3-(n-e))}))};return Object(n.useEffect)((function(){t&&t(!0),l([])}),[]),Object(n.useEffect)((function(){y()}),[j]),Object(n.useEffect)((function(){h?(l([]),t&&t(!0),1!==j?b(1):y()):x(!0)}),[w]),Object(d.jsx)("div",{className:"home flex row center",children:i.map((function(e,t){return Object(d.jsx)("div",{key:t,children:e.map((function(e,t){return Object(d.jsx)(T,{item:e,key:t,onDelete:I})}))})}))})},J=a(39);a(76);function C(e){var t=e.name;return Object(d.jsx)("div",{className:"tag",children:t})}a(77);function L(e){var t,a=e.item,n=e.index,c=e.onDelete,s=Object(o.f)();return Object(d.jsxs)("div",{className:"list-wrap flex",onClick:function(){localStorage.setItem("showItem",JSON.stringify(a));var e=JSON.parse(localStorage.getItem("view")||"{}");e[a.data[0].nasa_id]=e[a.data[0].nasa_id]?e[a.data[0].nasa_id]+1:1,localStorage.setItem("view",JSON.stringify(e)),s.push("/detail")},children:[Object(d.jsxs)("div",{className:"selfCenter list-index",children:["#",n+1]}),Object(d.jsx)("img",{className:"list-img",src:a&&a.links?null===(t=a.links[0])||void 0===t?void 0:t.href:void 0,alt:""}),Object(d.jsxs)("div",{className:"list-info column",children:[Object(d.jsx)("h3",{className:"list-title",children:a.data[0].title}),Object(d.jsx)("p",{className:"list-date",children:a.data[0].date_created}),Object(d.jsx)("div",{className:"flex wrap",children:a.data[0].keywords.map((function(e,t){return Object(d.jsx)(C,{name:e,key:t})}))}),Object(d.jsx)("p",{className:"list-description",children:a.data[0].description})]}),c&&Object(d.jsx)("div",{onClick:function(e){c&&c(a),e.stopPropagation()},className:"selfCenter",children:Object(d.jsx)(J.a,{className:"list-remove"})})]})}a(78);function P(e){var t=e.setEnable,a=Object(n.useState)([]),c=Object(r.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(""),o=Object(r.a)(l,2),u=o[0],j=o[1];return Object(n.useEffect)((function(){t&&t(!0);var e=Date.now(),a=JSON.parse(localStorage.getItem("like")||"[]"),n=Date.now();setTimeout((function(){i(a),t&&t(!1)}),1e3-(n-e))}),[]),Object(n.useEffect)((function(){var e=s||[];switch(u){case"newest":e.sort((function(e,t){return new Date(t.data[0].date_created)-new Date(e.data[0].date_created)}));break;case"lastest":e.sort((function(e,t){return new Date(e.data[0].date_created)-new Date(t.data[0].date_created)}))}j(e)}),[u]),Object(d.jsxs)("div",{className:"like",children:[Object(d.jsx)("div",{className:"flex end like-select",children:Object(d.jsxs)("select",{onChange:function(e){return j(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"None"}),Object(d.jsx)("option",{value:"newest",children:"Newest"}),Object(d.jsx)("option",{value:"lastest",children:"Lastest"})]})}),s.map((function(e,t){return Object(d.jsx)(L,{item:e,key:t,index:t})}))]})}a(79);function B(e){var t=e.setEnable,a=Object(n.useState)([]),c=Object(r.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(""),o=Object(r.a)(l,2),u=o[0],j=o[1],b=function(e){var t=JSON.parse(localStorage.getItem("delete")||"[]");t=t.filter((function(t){return t.data[0].nasa_id!==e.data[0].nasa_id})),localStorage.setItem("delete",JSON.stringify(t)),i(t)};return Object(n.useEffect)((function(){t&&t(!0);var e=Date.now(),a=JSON.parse(localStorage.getItem("delete")||"[]"),n=Date.now();setTimeout((function(){i(a),t&&t(!1)}),1e3-(n-e))}),[]),Object(n.useEffect)((function(){var e=s||[];switch(u){case"newest":e.sort((function(e,t){return new Date(t.data[0].date_created)-new Date(e.data[0].date_created)}));break;case"lastest":e.sort((function(e,t){return new Date(e.data[0].date_created)-new Date(t.data[0].date_created)}))}j(e)}),[u]),Object(d.jsxs)("div",{className:"delete",children:[Object(d.jsx)("div",{className:"flex end delete-select",children:Object(d.jsxs)("select",{onChange:function(e){return j(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"None"}),Object(d.jsx)("option",{value:"newest",children:"Newest"}),Object(d.jsx)("option",{value:"lastest",children:"Lastest"})]})}),s.map((function(e,t){return Object(d.jsx)(L,{item:e,key:t,index:t,onDelete:b})}))]})}a(80);function F(e){var t,a,c,s,i=e.setEnable,l=Object(n.useState)({}),o=Object(r.a)(l,2),u=o[0],j=o[1],b=Object(n.useState)({}),f=Object(r.a)(b,2),O=f[0],m=f[1];return Object(n.useEffect)((function(){i&&i(!0);var e=Date.now(),t=JSON.parse(localStorage.getItem("showItem")||"{}"),a=JSON.parse(localStorage.getItem("view")||"{}");m(a);var n=Date.now();setTimeout((function(){j(t),i&&i(!1)}),1e3-(n-e))}),[]),Object(d.jsxs)("div",{className:"detail flex",children:[Object(d.jsxs)("div",{className:"detail-left flex column",children:[Object(d.jsx)("img",{className:"detail-img",src:u&&u.links?null===(t=u.links[0])||void 0===t?void 0:t.href:void 0,alt:""}),Object(d.jsx)("h3",{children:u&&u.data&&u.data[0].title})]}),Object(d.jsxs)("div",{className:"detail-right flex column",children:[Object(d.jsx)("div",{className:"flex wrap",children:u&&u.data?null===(a=u.data[0])||void 0===a||null===(c=a.keywords)||void 0===c?void 0:c.map((function(e,t){return Object(d.jsx)(C,{name:e,key:t})})):null}),Object(d.jsx)("p",{className:"detail-date",children:u&&u.data&&u.data[0].date_created}),Object(d.jsxs)("p",{className:"detail-info",children:[Object(d.jsx)("b",{children:"Nasa Id: "}),u&&u.data&&u.data[0].nasa_id]}),Object(d.jsxs)("p",{className:"detail-info",children:[Object(d.jsx)("b",{children:"Center: "}),u&&u.data&&u.data[0].center]}),Object(d.jsxs)("p",{className:"detail-info",children:[Object(d.jsx)("b",{children:"View: "}),u&&u.data&&(s=O[u.data[0].nasa_id],s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")||0)]}),Object(d.jsx)("p",{children:u&&u.data&&u.data[0].description})]})]})}a(81);var R=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),u=i[0],f=i[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)(l.a,{children:[Object(d.jsx)(j,{setSearchText:f}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/like",children:Object(d.jsx)(P,{setEnable:c})}),Object(d.jsx)(o.a,{path:"/delete",children:Object(d.jsx)(B,{setEnable:c})}),Object(d.jsx)(o.a,{path:"/detail",children:Object(d.jsx)(F,{setEnable:c})}),Object(d.jsx)(o.a,{path:"/",children:Object(d.jsx)(D,{setEnable:c,searchText:u})})]})]}),Object(d.jsx)(b,{enable:a})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),q()}},[[82,1,2]]]);
//# sourceMappingURL=main.f6c0dde1.chunk.js.map